function _0x2e19(_0x4fb8bc,_0x3f2060){var _0x5004db=_0x5004();return _0x2e19=function(_0x2e191d,_0x4b64de){_0x2e191d=_0x2e191d-0x14d;var _0x63a485=_0x5004db[_0x2e191d];return _0x63a485;},_0x2e19(_0x4fb8bc,_0x3f2060);}var _0x5a3183=_0x2e19;(function(_0x5cfd53,_0x253a44){var _0x25a262=_0x2e19,_0x24d292=_0x5cfd53();while(!![]){try{var _0x43264e=-parseInt(_0x25a262(0x157))/0x1+parseInt(_0x25a262(0x193))/0x2+parseInt(_0x25a262(0x1b4))/0x3+parseInt(_0x25a262(0x183))/0x4+parseInt(_0x25a262(0x1bb))/0x5+parseInt(_0x25a262(0x173))/0x6+-parseInt(_0x25a262(0x17e))/0x7*(parseInt(_0x25a262(0x18d))/0x8);if(_0x43264e===_0x253a44)break;else _0x24d292['push'](_0x24d292['shift']());}catch(_0x44629d){_0x24d292['push'](_0x24d292['shift']());}}}(_0x5004,0x76bc7));var url=_0x5a3183(0x185),canvas=null,edit=![],pdfjsLib=window[_0x5a3183(0x16f)],loo=!![];function startMap(_0x5a54a0,_0x472d44,_0x41271a){var _0x4c6eb7=_0x5a3183;pdfjsLib[_0x4c6eb7(0x199)][_0x4c6eb7(0x165)]=_0x4c6eb7(0x174);var _0x45b745=pdfjsLib[_0x4c6eb7(0x180)](_0x472d44);_0x45b745['promise'][_0x4c6eb7(0x152)](_0x103c25=>{var _0x1d66e0=_0x4c6eb7,_0x36e73e=0x1;_0x103c25[_0x1d66e0(0x15d)](_0x36e73e)[_0x1d66e0(0x152)](_0x51cf3f=>{var _0x2b67e5=_0x1d66e0,_0x30219e=0x2,_0x264bf9=_0x51cf3f[_0x2b67e5(0x1aa)]({'scale':_0x30219e});canvas=document[_0x2b67e5(0x1af)](_0x5a54a0);var _0x4770e4=canvas[_0x2b67e5(0x1b0)]('2d');canvas['height']=_0x264bf9[_0x2b67e5(0x196)],canvas['width']=_0x264bf9[_0x2b67e5(0x1b7)];var _0x4b56ef={'canvasContext':_0x4770e4,'viewport':_0x264bf9},_0x3d3d4e=_0x51cf3f['render'](_0x4b56ef);_0x3d3d4e['promise']['then'](()=>{loadf(_0x41271a);});});},_0x3ae478=>{var _0x561dcc=_0x4c6eb7;console[_0x561dcc(0x170)](_0x3ae478);});}function loadf(_0x2fc831){var _0x5239bf=_0x5a3183,_0x1f5ba5=canvas[_0x5239bf(0x191)](_0x5239bf(0x15e));canvas=new fabric[(_0x5239bf(0x168))]('c',{'selection':![]}),canvas[_0x5239bf(0x151)](_0x1f5ba5,canvas[_0x5239bf(0x1a7)][_0x5239bf(0x1b8)](canvas)),canvas['on'](_0x5239bf(0x1bc),_0x2a4a9f=>{var _0xdbc4df=_0x5239bf,_0x23f694=_0x2a4a9f['e'][_0xdbc4df(0x16d)],_0x3bc3d5=canvas[_0xdbc4df(0x1b2)](_0x2a4a9f['e']),_0xb23317=canvas[_0xdbc4df(0x19d)]();_0xb23317=_0xb23317+_0x23f694/0xc8;if(_0xb23317>0x14)_0xb23317=0x14;if(_0xb23317<0.01)_0xb23317=0.01;canvas[_0xdbc4df(0x154)]({'x':_0x2a4a9f['e'][_0xdbc4df(0x1b3)],'y':_0x2a4a9f['e'][_0xdbc4df(0x194)]},_0xb23317),_0x2a4a9f['e'][_0xdbc4df(0x1ab)](),_0x2a4a9f['e']['stopPropagation']();}),canvas['on']('object:modified',function(_0x359aa1){var _0x3f8b38=_0x5239bf;let _0x260ed6=_0x359aa1[_0x3f8b38(0x178)][_0x3f8b38(0x1b7)]*_0x359aa1['target']['scaleX'],_0x4660a5=_0x359aa1['target'][_0x3f8b38(0x196)]*_0x359aa1[_0x3f8b38(0x178)]['scaleY'];_0x359aa1[_0x3f8b38(0x178)]['kwidth']=_0x260ed6,_0x359aa1['target'][_0x3f8b38(0x1a1)]=_0x4660a5;}),oldColor='',canvas['on'](_0x5239bf(0x17a),_0x56cade=>{var _0x32a490=_0x5239bf;try{oldColor=_0x56cade[_0x32a490(0x178)]['fill'],_0x56cade[_0x32a490(0x178)][_0x32a490(0x19f)](_0x32a490(0x14f),_0x32a490(0x18b));}catch(_0x3e2beb){}canvas['renderAll']();}),canvas['on']('mouse:out',_0x903311=>{var _0x5a35ca=_0x5239bf;try{_0x903311[_0x5a35ca(0x178)][_0x5a35ca(0x19f)](_0x5a35ca(0x14f),oldColor);}catch(_0x27283e){}canvas[_0x5a35ca(0x1a7)]();});var _0xa20ca2=![];canvas['on'](_0x5239bf(0x162),_0x1f9ab4=>{_0xa20ca2=![];}),canvas['on'](_0x5239bf(0x166),_0x9b5768=>{_0xa20ca2=!![];}),canvas['on'](_0x5239bf(0x192),_0x2806d6=>{if(loo){if(_0xa20ca2&&_0x2806d6&&_0x2806d6['e']){var _0x3ecc6e=0xa,_0x12ec8a=new fabric['Point'](_0x2806d6['e']['movementX'],_0x2806d6['e']['movementY']);canvas['relativePan'](_0x12ec8a);}}}),fabric[_0x5239bf(0x172)]=fabric[_0x5239bf(0x1bd)]['createClass'](fabric[_0x5239bf(0x176)],{'type':_0x5239bf(0x1ba),'text':null,'textOffsetLeft':0x0,'textOffsetTop':0x0,'_prevObjectStacking':null,'_prevAngle':0x0,'recalcTextPosition':function(){var _0x59c05b=_0x5239bf;const _0x3813e6=Math[_0x59c05b(0x156)](fabric[_0x59c05b(0x1bd)][_0x59c05b(0x1a0)](this[_0x59c05b(0x14e)])),_0x101c4e=Math[_0x59c05b(0x186)](fabric[_0x59c05b(0x1bd)][_0x59c05b(0x1a0)](this[_0x59c05b(0x14e)])),_0x2df312=_0x3813e6*this[_0x59c05b(0x19e)]+_0x101c4e*this[_0x59c05b(0x1b6)],_0xd131bf=_0x101c4e*this[_0x59c05b(0x19e)]-_0x3813e6*this['textOffsetTop'],_0x25310c=this['getPointByOrigin'](_0x59c05b(0x189),'top');this[_0x59c05b(0x16c)][_0x59c05b(0x19f)](_0x59c05b(0x189),_0x25310c['x']+_0xd131bf),this[_0x59c05b(0x16c)][_0x59c05b(0x19f)](_0x59c05b(0x14d),_0x25310c['y']+_0x2df312);},'initialize':function(_0x9b2a11,_0x3c2998,_0x4667c5,_0x4f96f2){var _0x2b469b=_0x5239bf;this[_0x2b469b(0x1ae)](_0x2b469b(0x169),_0x9b2a11,_0x3c2998),this['text']=new fabric[(_0x2b469b(0x197))](_0x4f96f2,{..._0x4667c5,'selectable':![],'evented':![]}),this['textOffsetLeft']=this[_0x2b469b(0x16c)][_0x2b469b(0x189)]-this[_0x2b469b(0x189)],this[_0x2b469b(0x1b6)]=this[_0x2b469b(0x16c)][_0x2b469b(0x14d)]-this[_0x2b469b(0x14d)],this['on'](_0x2b469b(0x1a2),()=>{var _0x4f8a8a=_0x2b469b;this[_0x4f8a8a(0x18c)]();}),this['on'](_0x2b469b(0x15b),()=>{var _0x119a38=_0x2b469b;this['text'][_0x119a38(0x184)](this[_0x119a38(0x16c)][_0x119a38(0x14e)]+this['angle']-this[_0x119a38(0x163)]),this[_0x119a38(0x18c)](),this['_prevAngle']=this[_0x119a38(0x14e)];}),this['on'](_0x2b469b(0x1a4),_0x5f0f5e=>{var _0xf6af80=_0x2b469b;this[_0xf6af80(0x16c)][_0xf6af80(0x19f)]('left',this[_0xf6af80(0x189)]+this[_0xf6af80(0x189)]/0x2),this[_0xf6af80(0x16c)][_0xf6af80(0x19f)](_0xf6af80(0x14d),this[_0xf6af80(0x14d)]+this['top']/0x2),this[_0xf6af80(0x18c)]();}),this['on'](_0x2b469b(0x187),()=>{var _0x1890c9=_0x2b469b;this[_0x1890c9(0x16c)][_0x1890c9(0x19f)]('left',Math[_0x1890c9(0x1a6)](this[_0x1890c9(0x189)])+Math[_0x1890c9(0x1a6)](this[_0x1890c9(0x1b7)])),this[_0x1890c9(0x16c)][_0x1890c9(0x19f)](_0x1890c9(0x14d),Math[_0x1890c9(0x1a6)](this[_0x1890c9(0x14d)])+Math['round'](this[_0x1890c9(0x196)])),this[_0x1890c9(0x15f)][_0x1890c9(0x181)](this['text']);}),this['on'](_0x2b469b(0x1a8),()=>{var _0x44525d=_0x2b469b;this['canvas'][_0x44525d(0x19b)](this['text']);}),this['on'](_0x2b469b(0x1ac),()=>{var _0x42d803=_0x2b469b;this[_0x42d803(0x19c)]=this[_0x42d803(0x15f)][_0x42d803(0x1be)],this[_0x42d803(0x15f)][_0x42d803(0x1be)]=!![];}),this['on'](_0x2b469b(0x175),()=>{var _0x3a04dd=_0x2b469b;this[_0x3a04dd(0x15f)][_0x3a04dd(0x1be)]=this['_prevObjectStacking'];}),this[_0x2b469b(0x16c)]['on'](_0x2b469b(0x158),()=>{var _0x474d01=_0x2b469b;this[_0x474d01(0x16c)][_0x474d01(0x18f)]=![],this[_0x474d01(0x16c)]['evented']=![],this[_0x474d01(0x18f)]=!![];});}}),canvas[_0x5239bf(0x1b5)]=()=>{var _0x3e76b4=_0x5239bf;let _0x42a662=canvas[_0x3e76b4(0x19a)](),_0x3370c2=[];return _0x42a662['forEach'](_0xa47c90=>{var _0x1c4252=_0x3e76b4;_0xa47c90[_0x1c4252(0x195)]&&_0x3370c2[_0x1c4252(0x167)](_0xa47c90);}),_0x3370c2;},_0x2fc831(canvas);}function polygonPositionHandler(_0x24126b,_0x1e004a,_0x5edd38){var _0x117086=_0x5a3183,_0x2b28a3=_0x5edd38[_0x117086(0x161)][this[_0x117086(0x17b)]]['x']-_0x5edd38[_0x117086(0x1a9)]['x'],_0x19f8d4=_0x5edd38[_0x117086(0x161)][this[_0x117086(0x17b)]]['y']-_0x5edd38[_0x117086(0x1a9)]['y'];return fabric['util'][_0x117086(0x1ad)]({'x':_0x2b28a3,'y':_0x19f8d4},fabric['util']['multiplyTransformMatrices'](_0x5edd38[_0x117086(0x15f)][_0x117086(0x15a)],_0x5edd38[_0x117086(0x155)]()));}function _0x5004(){var _0x5aa34b=['getContext','reduce','getPointer','offsetX','2016822Bnrxyp','loadBlocak','textOffsetTop','width','bind','mousedown','rectWithText','175090LbluiI','mouse:wheel','util','preserveObjectStacking','top','angle','fill','Control','setBackgroundImage','then','cornerStyle','zoomToPoint','calcTransformMatrix','sin','776472kdxHMl','editing:exited','mousedblclick','viewportTransform','rotating','string','getPage','image/png','canvas','toLocalPoint','points','mouse:up','_prevAngle','prototype','workerSrc','mouse:down','push','Canvas','initialize','center','controls','text','deltaY','modified','pdfjs-dist/build/pdf','error','edit','RectWithText','1581168xSTuaX','https://mozilla.github.io/pdf.js/build/pdf.worker.js','deselected','Polygon','#ffffffa3','target','cornerColor','mouse:over','pointIndex','blue','setActiveObject','1057tlhaED','rgba(0,0,255,0.5)','getDocument','add','_getNonTransformedDimensions','1476156RfiuDI','rotate','http://localhost:3001/uploads/UP/kiven.pdf','cos','added','requestRenderAll','left','length','red','recalcTextPosition','35592HdYGYf','Object','selectable','_setPositionDimensions','toDataURL','mouse:move','1189510QuCkrQ','offsetY','pieceId','height','Textbox','_getTransformedDimensions','GlobalWorkerOptions','getObjects','remove','_prevObjectStacking','getZoom','textOffsetLeft','set','degreesToRadians','kheight','moving','setPositionByOrigin','scaling','circle','round','renderAll','removed','pathOffset','getViewport','preventDefault','mousedown:before','transformPoint','callSuper','getElementById'];_0x5004=function(){return _0x5aa34b;};return _0x5004();}function actionHandler(_0x445db7,_0x25d71c,_0x2e4add,_0x212de4){var _0x7a9b64=_0x5a3183,_0x157a9d=_0x25d71c[_0x7a9b64(0x178)],_0x2873a2=_0x157a9d[_0x7a9b64(0x16b)][_0x157a9d['__corner']],_0x29d9b3=_0x157a9d[_0x7a9b64(0x160)](new fabric['Point'](_0x2e4add,_0x212de4),_0x7a9b64(0x16a),_0x7a9b64(0x16a)),_0x3619b5=_0x157a9d['_getNonTransformedDimensions'](),_0x56928f=_0x157a9d[_0x7a9b64(0x198)](0x0,0x0),_0x2fe764={'x':_0x29d9b3['x']*_0x3619b5['x']/_0x56928f['x']+_0x157a9d[_0x7a9b64(0x1a9)]['x'],'y':_0x29d9b3['y']*_0x3619b5['y']/_0x56928f['y']+_0x157a9d[_0x7a9b64(0x1a9)]['y']};return _0x157a9d['points'][_0x2873a2[_0x7a9b64(0x17b)]]=_0x2fe764,!![];}function anchorWrapper(_0x1af18c,_0x10c065){return function(_0x5a3e3c,_0x369aca,_0x1683bd,_0x26a026){var _0x439e5d=_0x2e19,_0x154875=_0x369aca[_0x439e5d(0x178)],_0x1c195e=fabric[_0x439e5d(0x1bd)][_0x439e5d(0x1ad)]({'x':_0x154875['points'][_0x1af18c]['x']-_0x154875[_0x439e5d(0x1a9)]['x'],'y':_0x154875[_0x439e5d(0x161)][_0x1af18c]['y']-_0x154875[_0x439e5d(0x1a9)]['y']},_0x154875[_0x439e5d(0x155)]()),_0x34fb17=_0x10c065(_0x5a3e3c,_0x369aca,_0x1683bd,_0x26a026),_0x48d63b=_0x154875[_0x439e5d(0x190)]({}),_0x141314=_0x154875[_0x439e5d(0x182)](),_0x3618a5=(_0x154875[_0x439e5d(0x161)][_0x1af18c]['x']-_0x154875['pathOffset']['x'])/_0x141314['x'],_0x5c91b4=(_0x154875['points'][_0x1af18c]['y']-_0x154875[_0x439e5d(0x1a9)]['y'])/_0x141314['y'];return _0x154875[_0x439e5d(0x1a3)](_0x1c195e,_0x3618a5+0.5,_0x5c91b4+0.5),_0x34fb17;};}function Edit(_0x2ab160){var _0x38d2d2=_0x5a3183;console['log'](_0x2ab160['target']);var _0x46daf9=_0x2ab160[_0x38d2d2(0x178)];canvas[_0x38d2d2(0x17d)](_0x46daf9),_0x46daf9[_0x38d2d2(0x171)]=!_0x46daf9[_0x38d2d2(0x171)],edit=_0x46daf9[_0x38d2d2(0x171)];if(_0x46daf9[_0x38d2d2(0x171)]){var _0x39db63=_0x46daf9[_0x38d2d2(0x161)][_0x38d2d2(0x18a)]-0x1;_0x46daf9[_0x38d2d2(0x153)]=_0x38d2d2(0x1a5),_0x46daf9[_0x38d2d2(0x179)]=_0x38d2d2(0x17f),_0x46daf9['controls']=_0x46daf9[_0x38d2d2(0x161)][_0x38d2d2(0x1b1)](function(_0x5162ca,_0x47cc8d,_0x8a4011){var _0x158cf7=_0x38d2d2;return _0x5162ca['p'+_0x8a4011]=new fabric[(_0x158cf7(0x150))]({'positionHandler':polygonPositionHandler,'actionHandler':anchorWrapper(_0x8a4011>0x0?_0x8a4011-0x1:_0x39db63,actionHandler),'actionName':'modifyPolygon','pointIndex':_0x8a4011}),_0x5162ca;},{});}else _0x46daf9['cornerColor']=_0x38d2d2(0x17c),_0x46daf9['cornerStyle']='rect',_0x46daf9[_0x38d2d2(0x16b)]=fabric[_0x38d2d2(0x18e)][_0x38d2d2(0x164)]['controls'];_0x46daf9['hasBorders']=!_0x46daf9[_0x38d2d2(0x171)],canvas[_0x38d2d2(0x188)]();}var lefts=0x190,tops=0x32;function addBlock(_0x9e830d,_0x4caac3,_0x3dec3c,_0x1362df=null,_0x413369,_0x456fbe){var _0x4ebd89=_0x5a3183;!_0x1362df?_0x1362df=[{'x':0x0,'y':0x64},{'x':0x14,'y':0x64},{'x':0x14,'y':0x96},{'x':0x0,'y':0x96}]:typeof _0x1362df==_0x4ebd89(0x15c)&&(_0x1362df=JSON['parse'](_0x1362df));canvas['viewportTransform']=[0.7,0x0,0x0,0.7,-0x32,0x32],lefts=lefts+0x64,tops=tops+0x64;var _0x31a75f=new fabric[(_0x4ebd89(0x172))](_0x1362df,{'pieceId':_0x4caac3,'lockScalingY':!![],'lockScalingX':!![],'lockRotation':!![],'peiceSpace':_0x3dec3c,'left':Math[_0x4ebd89(0x1a6)](_0x413369),'top':Math[_0x4ebd89(0x1a6)](_0x456fbe),'fill':_0x4ebd89(0x177),'strokeWidth':0x1,'stroke':'green','scaleX':0x4,'scaleY':0x4,'objectCaching':![],'transparentCorners':![],'cornerColor':_0x4ebd89(0x17c),'hasRotatingPoint':![]},{'left':Math[_0x4ebd89(0x1a6)](_0x413369),'top':Math['round'](_0x456fbe),'fontSize':0x12,'objectCaching':![],'transparentCorners':![],'cornerColor':'blue'},_0x9e830d+'\x0a'+_0x4caac3);_0x31a75f['on'](_0x4ebd89(0x159),_0x1d6280=>{Edit(_0x1d6280);}),_0x31a75f['on'](_0x4ebd89(0x1b9),_0x562c4f=>{loo=![];}),_0x31a75f['on']('mouseup',_0x5a9cf5=>{loo=!![];}),_0x31a75f['on'](_0x4ebd89(0x16e),_0x35dd76=>{var _0x22c6e8=_0x4ebd89;_0x35dd76['target'][_0x22c6e8(0x16c)]['set'](_0x22c6e8(0x189),Math[_0x22c6e8(0x1a6)](_0x35dd76[_0x22c6e8(0x178)]['left'])+Math[_0x22c6e8(0x1a6)](_0x35dd76['target']['width'])),_0x35dd76['target'][_0x22c6e8(0x16c)]['set'](_0x22c6e8(0x14d),Math[_0x22c6e8(0x1a6)](_0x35dd76['target'][_0x22c6e8(0x14d)])+Math[_0x22c6e8(0x1a6)](_0x35dd76[_0x22c6e8(0x178)][_0x22c6e8(0x196)]));}),canvas[_0x4ebd89(0x181)](_0x31a75f);}